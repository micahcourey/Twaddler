<div class="content">


  <div class="small-9 columns">
    <form ng-Submit="post()" ng-show='authenticated'>
      <h5>Welcome {{current_user}}</h5>
      <div class="input-group">
        <input class="input-group-field" type="text" required maxLength="250" rows="3" placeholder="Twaddle here" ng-model="newPost.text">
        <div class="input-group-button">
          <input class="button" type="submit" ng-disabled="!post-form.$valid" value="Twaddle"/>
        </div>
      </div>
    </form>
    <div id="twaddles">
      <h5><a class="float-right" xref="/">Refresh Feed</a></h5>
      <h5>Twaddler Feed</h5>
      <div class="twaddle" ng-repeat="post in posts | orderBy: 'created_at': true" ng-class-odd="'odd'" ng-class-even="'even'">
        <small>Posted by @{{post.created_by}}</small>
        <small class="float-right">{{post.created_at | date:"h:mma 'on' MMM d, y"}}</small>
        <div ng-bind-html="post.text | linky">
          <p>{{post.text}}</p>
        </div>
      </div>
    </div>
  </div>

  <div id="table" class="small-3 columns">
    <table class="hover">
      <thead>
        <tr>
          <th><h5>Users posting in the feed</h5></th>
        </tr>
      </thead>
      <tbody>
        <tr class="users" ng-repeat="post in posts | unique: 'created_by'">
          <td>@{{post.created_by}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
